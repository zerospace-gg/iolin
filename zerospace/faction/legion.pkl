amends ".../engine/faction.pkl"
import "legion.pkl" as me

name = "Legion"
factionContents = import*("legion/**pkl")
mercHeroesAllowed = false

talents {
  ["War Experience"] {
    level = 1
    description = "Gain additional experience by destroying enemy units (20% of hex+flux cost) as XP"
  }

  ["Improved Conduits"] {
    level = 1
    description = "Conduits now build instantly and start with max energy"
  }

  ["Efficient Upgrades"] {
    level = 2
    description = "+40% research speed & -40% research cost"
  }

  ["Death Pact"] {
    level = 3
    description = "Reanimate bonuses increased by 50%"
  }

  ["Reanimate Hero"] {
    level = 3
    description = "Reanimate can target Heroes, debuffing them for 15s upon reanimation."
  }

  ["Improved Spellcasting"] {
    level = 4
    description = "+50% Energy Regen & -30% Ability Cooldown"
  }

  ["Ritual"] {
    level = 5
    description = "Unlocks a ritual site that summons a temporal projection of the Emperor"
    unlocks { me.topbars["Ritual"].slug }
  }

  ["Spawn Monolith"] {
    level = 5
    description = "Spawn powerful defensive structure on battlefield"
    unlocks { me.topbars["Spawn Monolith"].slug }
  }
}

topbars {
  ["Recall"] {
    topbarType = "recall"
    slot = 1
    energyCost = 5
    cooldown = 90
    description = "Recalls units to the nearest Garrison Tower. Click minimap to choose which base."
  }
  ["Reanimate"] {
    topbarType = "special"
    slot = 2
    description = "Target unit gains +40% attack and move speed. After death, unit is reanimated with -40% attack speed and move speed."
  }
  ["Ritual"] {
    slot = 3
    description = "Start ritual on one of XP towers. When ritual finishes, an Emperor projection will spawn for 90s. Sacrifice thralls to make it more powerful. From Thrall remains you also gain some resources back. If the ritual building is destroyed, the Emperor spawns with 60% hp."
    energyCost = 25
    cooldown = 180
    unlockedBy { me.talents["Ritual"].slug }
  }
  ["Spawn Monolith"] {
    slot = 4
    description = "Spawn a powerful defensive structure on the battlefield"
    unlockedBy { me.talents["Spawn Monolith"].slug }
  }

}
